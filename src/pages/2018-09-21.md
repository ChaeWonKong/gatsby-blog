---
title: "네트워크와 웹이란 무엇인가 1"
date: "2018-09-21"
---

21세기, 거의 모든 것은 인터넷과 연결되어 있다. IoT, 즉 Internet of Things가 관심을 받았고, O2O, Online to Offline이 새로운 비즈니스로 부상했으며, 클라우드가 일반화되었다. 마이크로소프트 오피스도 클라우드 형태로 제공이 되고, 포토샵도 그런 형태로 가고 있다. 기업은 서버 대신 클라우드 서비스를 이용한다. 과거에는 프로그램을 설치하기 위해 오프라인 매장에서 CD를 샀지만, 이제는 온라인에서 앱을 설치하여 대신한다. 최신 자동차들은 인터넷을 통해 차량의 주요 정보를 제조사에 전송하고, 제조사는 자동차의 펌웨어를 인터넷으로 업데이트 한다. 

인터넷으로 편리한 세상. 인터넷의, 네트워크의 작동원리를 알지 못한다고 하더라도 이 편리함은 충분히 즐길 수 있다. 그러나 인터넷과 네트워크를 이용한 서비스를 제공하고자 한다면 네트워크에 대해서 조금이라도 이해할 수 있어야만 한다. 네트워크를 모르고서는 모바일앱을 만들 수 없고, 인터넷 홈페이지를 제대로 구현할 수 없다. 기술을 알아야 풀리는 사업도 있다. IT 비즈니스가 그렇다. 과거, 변호사는 어려운 법률용어와 구조를 해석할 수 있어 법률시장을 독점했다. 현재 IT도 비슷하다. 이것을 해석하고 이해할 수 있는 사람만이 볼 수 있는 것이 있고, 이해할 수 있는 것이 있다. 따라서 우리는 간단하게라도 네트워크의 원리에 대해 이해할 수 있어야 한다.

### 클라이언트와 서버, DNS와 라우터, 그리고 브라우저에 대해
오늘은 네트워크와 웹에 대한 가장 기본적인 개념을 알아본다. 먼저 웹이라는 네트워크가 어떤 식으로 작동하는지에 대해서 클라이언트와 서버, 그리고 둘을 이어주는 DNS와 라우터를 통해 간단히 살펴본다.

오늘 살펴보는 개념은 추상화된 개념으로 정확히 실제를 대변한다고 할 수는 없다. 다만 복잡한 실제를 단순화하고 추상화함으로써 보다 쉬운 이해를 할 수 있다.

### 브라우저는 웹과 연결하여 정보를 주고받는다
우리가 사용하는 Chrome, Internet Explorer, Edge, Safari 등의 브라우저는 우리의 컴퓨터를 제어해 웹과 연결을 하고 필요한 정보를 요청하고 제공하는 작업을 한다. 우리가 열고자 하는 홈페이지의 IP주소를 조회하는 등의 작업들은 사용자가 하나하나 설정해주지 않아도 브라우저가 알아서 진행하는 것이다.

```html

<!doctype html>
<html lang="ko" class="svgless">
<head>
<meta charset="utf-8">
<meta name="Referrer" content="origin">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=1100">
<meta name="apple-mobile-web-app-title" content="NAVER" />
<meta name="robots" content="index,nofollow"/>
<meta name="description" content="네이버 메인에서 다양한 정보와 유용한 컨텐츠를 만나 보세요"/>
<meta property="og:title" content="네이버">
<meta property="og:url" content="https://www.naver.com/">
<meta property="og:image" content="https://s.pstatic.net/static/www/mobile/edit/2016/0705/mobile_212852414260.png">
<meta property="og:description" content="네이버 메인에서 다양한 정보와 유용한 컨텐츠를 만나 보세요"/>
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="">
<meta name="twitter:url" content="https://www.naver.com/">
<meta name="twitter:image" content="https://s.pstatic.net/static/www/mobile/edit/2016/0705/mobile_212852414260.png">
<meta name="twitter:description" content="네이버 메인에서 다양한 정보와 유용한 컨텐츠를 만나 보세요"/>


이하생략...
```

> https://www.naver.com 의 data의 실제 모습 (실제로는 2000줄 정도의 코드)


### 브라우저는 가져온 정보를 렌더링(Rendering)한다
우리가 http://www.naver.com에 접속하면, 브라우저는 Naver 서버에 해당 주소의 웹 페이지 데이터를 요청한다. 데이터는 보통 HTML 형태로 제공된다(그 밖에도 CSS, JS 등의 데이터가 함께 제공되기도 한다). HTML은 HyperText Markup Language의 줄임말이며, 웹페이지를 구조적으로 표현할 수 있는 표준 언어이다. 모든 홈페이지의 구조는 예외없이 이 HTML로 짜여져 있다. 브라우저는 HTML문서를 가져와 그것을 사람이 볼 수 있는 구조로 렌더링한다.

여기서 렌더링이란, HTML언어를 그래픽 형태로 변환하는 것이라고 생각하면 된다. 즉, 글로 적힌 페이지를 사진과 그림, 색과 그래픽으로 가득한 페이지로 번역해주는 셈이다.


### 네트워크에 대한 기본 이해
네트워크란 데이터의 소통창구이다. 웹이란 결국 정보를 주고받는 광장이다. 내가 Naver홈페이지에 접속한다는 것은, Naver측에 홈페이지라는 정보를 요청하는 것이고, 그 정보를 받아 브라우저가 그래픽으로 해석하는 것이다. 동영상도, 사진도, 홈페이지도 모두 데이터라는 형태로 주고 받는 것이다.

<img src="/static/client-server-41a0386ab65305786b6011079e560e00.png" width="840px" />

> 클라이언트, 서버, DNS 서버의 상호작용

### 클라이언트란?
클라이언트는 쉽게 얘기해 우리 자신을 말한다고 생각하면 된다. 만약 당신이 네이버에 접속한다면 당신은 클라이언트가 된다. 정확히는 당신이 사용하는 컴퓨터가 클라이언트다.


### 서버란?
클라이언트가 컴퓨터인 것처럼 서버도 컴퓨터이다. 서버는 클라이언트가 요청한 정보를 자동으로 전송해주는 기능을 하는 컴퓨터를 의미한다. 여기서 핵심은 자동화이다. 클라이언트는 수동이다. 우리가 원할 때 직접 원하는 사이트에 들어간다. 그러나 서버는 그럴 수 없다. 은행 창구 직원처럼 언제 올 지 모르는 현금 인출 고객을 기다리며 24시간 앉아 있을 수만은 없다. 우리가 Naver에 접속할 때마다, Naver직원이 인터넷으로 홈페이지를 구성하는 Data를 우리에게 직접 보낸다고 생각해보자. 우스꽝스럽다. 

언제 어디서 사용자가 데이터를 요청하더라도 그 요청에 응답해 원하는 데이터를 제공하기 위해서는 서버는 24시간 구동되고 있어야 하며, 요청된 데이터를 자동으로 찾아 전송해줄 수 있어야 한다.

### DNS
DNS는 Domain Name System의 약자다. 보통 DNS 서버라고 한다. 사실 인터넷상에서 통용되는 주소는 IP 뿐이다. IP는 192. 0. 2. 227 처럼 구성된 숫자형 주소이다. www.naver.com 이라는 주소는 사용자의 편의를 위해 붙여진 간편 주소라고 보면 된다.

DNS 서버에는 사용자가 읽기 쉬운 간편주소와 IP주소가 연결되어 저장되어 있다. 엑셀파일로 만든 전화번호부에 이름과 전화번호가 연결되어 저장된 것처럼, www.naver.com 옆에는 실제 Naver 서버의 IP 주소가 연결되어 있다.

우리가 www.naver.com을 웹브라우저 주소창에 치면, 웹브라우저는 먼저 근처의 DNS 서버를 연결해 www.naver.com이라는 주소를 찾아달라고 요청한다. 그러면 DNS 서버는 그 주소에 맞는 IP 주소를 찾아 우리에게 전송해준다. 

IP주소를 받은 후 브라우저는 우리가 하려고 했던 요청(www.naver.com에 접속해 그 홈페이지를 우리가 볼 수 있게 하는 것)을 해당 IP주소에 요청한다.


### GET? POST?
네트워크와 웹에서 이루어지는 상호작용은 크게 Request와 Response로 나눌 수 있으며, 각각의 상호작용은 GET과 POST를 가진다.

| Request   | Response |
|:---------:| :-------:|
|    GET    |    GET   |
| POST      |   POST   |

먼저 GET과 POST 방식 부터 설명한다. 정보를 가져오면 GET, 정보를 보내면 POST이다. 앞서 살펴보았던 것처럼, 브라우저에서 https://www.naver.com 주소를 치는 것은 정보를 가져오는 것이므로 GET이다.

Request는 클라이언트가 서버에게 GET이나 POST를 요청하는 것을 의미한다. 클라이언트는 브라우저에서 무언가의 요구를 웹 서버에 보내게 된다. 그것은 단순히 "홈페이지를 보여주세요" 같은 GET Request일 수도 있지만, 회원정보를 입력한 후 전송하는 POST Request일 수도 있다. 정보는 서버에서 클라이언트로만 흐르는 것이 아니라, 클라이언트가 서버에게 보내주기도 하는데, 이 경우가 POST인 것이다. 브라우저가 POST 하면 서버는 GET 한다.

Response는 클라이언트의 Request에 대한 서버측의 응답이다. GET요청에 대해서는 필요한 데이터를 찾아 보내주고, POST 요청에 대해서는 그에 알맞게 대응하여 DB 등에 클라이언트로부터 보내진 정보를 저장한다.

네트워크는 클라이언트의 Request와 서버의 Response로 작동한다. 다음 주제에서 좀 더 자세히 살펴보자.

### GET Request의 작동 원리
Naver 홈페이지는 구조가 복잡하므로, 간단한 예제를 만들어 살펴본다.

```html
<html>
    <head>
        <title>공채원의 블로그</title>
    </head>
    <body>
        <div>
            <h1>공채원의 블로그입니다</h1>
            <p style="color: green">공채원은 천재다</p>
            <img src="https://cdn.pixabay.com/photo/2017/08/06/18/29/woman-2594934_960_720.jpg" width="500px" />
        </div>
    </body>
</html>
```

> "공채원의 블로그"의 index.html 코드

<br>
<img src="/static/ex-001-a23ddab5829670f19448571d7d4233b2.png" width="840px" />

> "공채원의 블로그"의 랜더링 된 모습

위와 같은 홈페이지가 실제로 존재하고 이 홈페이지에 대해 클라이언트가 GET Request를 했다고 하자. 브라우저는 다음과 같이 작동하게 된다.

1. DNS 서버에 IP 주소를 물어본다
2. IP주소로 "공채원의 블로그"가 설치된 서버에 연락해 "index.html"이라는 이름의 HTML 문서를 달라고 한다(GET 요청)
3. 서버는 HTML 문서를 POST 방식으로 보내준다(Response 한다). 먼저 HTML 태그가 먼저 보내지고, 이미지가 들어갈 공간은 빈칸 형태로 보내진다. 이후 이미지가 브라우저에 다운로드 되며, 빈칸에 이미지를 채워넣어 랜더링해 보여준다.(HTML문서와 이미지를 따로따로 GET 요청해서 가져온다)

여기서 주목할 점은, 이미지와 HTML문서는 한꺼번에 오는 것이 아니라는 것이다. 먼저 HTML 문서를 가져온다(다운로드 한다). 이 HTML 문서만 랜더링하면, 이미지가 들어갈 공간은 빈칸으로 존재하는 문서가 랜더링 된다.

이후 이미지 파일도, 해당 주소로 GET 요청을 하는데, 이를 통해 이미지를 클라이언트에 다운로드 한다. 이후 랜더링된 페이지의 이미지가 들어갈 자리(빈칸으로 남아 있는 자리)에 이미지를 삽입해 보여준다.

과거 인터넷이 느리던 시절을 돌아보면, 사진이 많은 홈페이지는 로딩이 느렸다. 먼저 글이 쫙 뜨고, 사진은 조금씩 로딩이 되었었다. 그 모습을 생각해보면 이해가 쉬울 것이다.

### 마치며
우리가 웹을 사용한다는 것은 결국 GET과 POST라는 두 방식 중 한가지 이상을 사용하는 것이다. 

인터넷은 매우 복잡하다. 이제 웹페이지는 페이지라기보다는 웹어플리케이션이다. 단순히 문자와 사진의 나열이 아니라 프로그램처럼 상호작용한다. 구글독스는 심지어 웹페이지 내에서 PPT나 엑셀 같은 문서작업을 할 수 있게도 한다.

이런 복잡한 기능들도 결국 따지고 보면 GET과 POST를 통해 이루어지는 것이다. 복잡한 기술도 근본까지 쪼개어 보면 결국 단순한 원리로 환원된다. 그리고 이 단순한 원리만 이해하면 아무리 복잡한 기능도 이해하고 구현할 수 있다.

다음시간에는 클라이언트와 서버, 그리고 프론트엔드와 백엔드라는 개념에 대해서 좀 더 알아보도록 한다.

### 참고지식
- www.naver.com의 www가 "월드 와이드 웹"의 줄임말로써 사용된다는 유언비어가 있다. 반은 맞고 반은 틀린 얘기다. 최초의 웹 서버들이 서버 이름으로 www를 많이 쓰곤 했기 때문에 www로 굳어진 것이다. 웹 서버의 이름을 다르게 지으면 www가 아닐 수도 있다. 즉, www를 쓰기로 약속된 것은 아니다.
- HTTP란 hyperText Transmitting Protocol의 약자로, 웹에서 데이터를 주고받는 것에 대한 약속이다. 이 내용은 많이 복잡하므로 추후 다루기로 한다. 웹에는 HTTP 외에도 다른 프로토콜들이 존재한다. 다른 프로토콜로는 FTP(File Transfer Protocol), SMTP(Simple Mail Transfer Protocol) 등이 존재한다.
- 최초의 인터넷은 웹페이지가 아니라 이메일에서 시작되었다. 웹페이지를 만드는 니즈보다 이메일에 대한 니즈가 먼저였다는 것!
